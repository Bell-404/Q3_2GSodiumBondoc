<!DOCTYPE html>
<html>
    <head>
        <title>2nd Graded Excercise</title>
        <link rel='stylesheet' href='2GStyle.css'>
    </head>

    <body>
        <form method="post" onsubmit="return confirm('Are you sure you want to submit the form?')"
        onreset="return confirm('Are you sure you want to reset the form?')" >
            <fieldset>
                <legend>Student Information</legend>
                
                <div class="input">
                    <label for="studentID">Student ID : </label><br>
                    <input id="studentID" name="studentID" type="number" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white;display:none;"> Required</span><br>
                </div>

                <div class="input">
                    <label for="fullname">Full Name : </label><br>
                    <input id="fullname" name="fullname" type="text" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white; display:none;"> Required</span><br>
                </div>

                <div class="input">
                    <label for="bday">Birthday : </label><br>
                    <input id="bday" name="bday" type="date" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white;display:none;"> Required</span></br>
                </div>

                <div class="input">
                    <label for="email">Email Address : </label><br>
                    <input id="email" name="email" type="email" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white;display:none;"> Required</span></br>
                </div>
            </fieldset>
            
            <fieldset>
                <div class="input">
                <label for="phone">Mobile Phone : </label><br>
                <input id="phone" name="phone" type="text" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white; display:none;"> Required</span></br>
                </div>

                <div class="input">
                <input type="radio" id="intern" name="home" value="intern"><label for="home">Intern</label></br>
                <input type="radio" id="extern" name="home" value="extern"><label for="home">Extern</label></br>
                </div>

                <div class="input">
                <label for="club">Preferred Organization/Club</label></br>
                <select name="club" id="club">
                   <option value="music">Music Club</option>
                   <option value="art">Art Club</option>              
                   <option value="sports">Sports Club</option>             
                   <option value="math">Math Club</option>
                   <option value="science">Science Club</option>
                   <option value="lit">Literature Club</option>
                </select><br>
                </div>

            </fieldset>

            <div class="textarea">
                <label for="reason">Why do you want to join?</label><br>
                <textarea id="reason" name="reason" rows="4" cols="50"></textarea><br>

                <div class="buttons">
                    <input type="reset" value="Reset">
                    <input type="submit" value="Submit">
                </div>
            </div>
            </form>
            
            <button><a href="viewSignUps.html">View Sign Ups</a></button>
            
            <script>
                //save data to local storage
                const form = document.querySelector('form');
                form.addEventListener('submit', function(event) {
                    event.preventDefault(); // Prevent form submission
                    const formData = {
                        studentID: document.getElementById('studentID').value,
                        fullname: document.getElementById('fullname').value,
                        bday: document.getElementById('bday').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        home: document.querySelector('input[name="home"]:checked') ? document.querySelector('input[name="home"]:checked').value : '',
                        club: document.getElementById('club').value,
                        reason: document.getElementById('reason').value
                    };

                    // Get existing signups or create new array
                    let allSignUps = [];
                    const existingData = localStorage.getItem('allSignUps');
                    if (existingData) {
                        allSignUps = JSON.parse(existingData);
                    }
                    
                    // Add new signup to array
                    allSignUps.push(formData);
                    
                    //save to local storage
                    localStorage.setItem('allSignUps', JSON.stringify(allSignUps));
                    alert('Form submitted successfully!');
                    form.reset(); // Reset the form after submission
                });
            </script>
    </body>
</html>

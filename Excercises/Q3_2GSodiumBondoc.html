<!DOCTYPE html>
<html>
    <head>
        <title>2nd Graded Excercise</title>
        <link rel='stylesheet' href='2GStyle.css'>
    </head>

    <body>
        <form onsubmit="return confirm('Are you sure you want to submit the form?')"
        onreset="return confirm('Are you sure you want to reset the form?')">
            <fieldset>
                <legend>Student Information</legend>
                
                <div class="input">
                    <label for="studentID">Student ID : </label><br>
                    <input id="studentID" name="studentID" type="number" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white;display:none;"> Required</span><br>
                </div>

                <div class="input">
                    <label for="fullname">Full Name : </label><br>
                    <input id="fullname" name="fullname" type="text" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white; display:none;"> Required</span><br>
                </div>

                <div class="input">
                    <label for="bday">Birthday : </label><br>
                    <input id="bday" name="bday" type="date" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white;display:none;"> Required</span></br>
                </div>

                <div class="input">
                    <label for="email">Email Address : </label><br>
                    <input id="email" name="email" type="email" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white;display:none;"> Required</span></br>
                </div>
            </fieldset>
            
            <fieldset>
                <div class="input">
                <label for="phone">Mobile Phone : </label><br>
                <input id="phone" name="phone" type="text" required onblur="if(this.value===''){this.style.border='2px solid red'; this.nextElementSibling.style.display='inline';} else {this.style.border=''; this.nextElementSibling.style.display='none';}"><span style="color:red; background-color: white; display:none;"> Required</span></br>
                </div>

                <div class="input">
                <input type="radio" id="intern" name="home" value="intern"><label for="home">Intern</label></br>
                <input type="radio" id="extern" name="home" value="extern"><label for="home">Extern</label></br>
                </div>

                <div class="input">
                <label for="club">Preferred Organization/Club</label></br>
                <select name="club" id="club">
                   <option value="music">Music Club</option>
                   <option value="art">Art Club</option>              
                   <option value="sports">Sports Club</option>             
                   <option value="math">Math Club</option>
                   <option value="science">Science Club</option>
                   <option value="lit">Literature Club</option>
                </select><br>
                </div>

            </fieldset>

            <div class="textarea">
                <label for="reason">Why do you want to join?</label><br>
                <textarea id="reason" name="reason" rows="4" cols="50"></textarea><br>

                <div class="buttons">
                    <input type="reset" value="Reset">
                    <input type="submit" value="Submit">
                </div>
            </div>
            </form>
        <br><br>
        <h2>Club Sign-Ups</h2>
        <ul id="list"></ul>
    </body>

    <script>
        // Helpers for localStorage
        const KEY = 'signups';

        function loadSignups() {
            const raw = localStorage.getItem(KEY);
            if (raw) {
                return JSON.parse(raw);
            }
            else {
                return [];
            }
        }

        function saveSignUps(entries) {
            localStorage.setItem(KEY, JSON.stringify(entries));
        }

        // Render list to the page
        function render() {
            const signups = loadSignups();
            const list = document.getElementById('list');
            if (signups.length === 0) {
                list.innerHTML = '<li><b>No sign-ups for the club</b></li>';
                return;
            }
            let output = "";
            for (let i = 0; i < signups.length; i++) {
                output += `<li>
                   <i>${escapeHtml(signups[i].name)}</i> (${signups[i].time}) â€” ${escapeHtml(signups[i].club)}
                 </li>`;
            }
        }
    </script>
</html>